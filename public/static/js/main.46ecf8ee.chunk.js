(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,a){e.exports=a(91)},57:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),i=a(7),o=a(8),s=a(10),u=a(9),m=a(11),d=(a(56),a(57),a(104)),p=a(121),h=a(16),b=a(105),f=a(107),E=a(108),g=a(109),O=a(110),v=a(111),y=a(13),j=a(15),L=a.n(j),C=function(){return function(e){return e(T()),L.a.get("/api/items").then(function(t){return e({type:"GET_ITEMS",payload:t.data})})}},T=function(){return{type:"ITEMS_LOADING"}},N=a(4),k=a.n(N),I=a(17),w=a(94),_=a(95),S=a(96),x=a(97),A=a(98),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",price:"",avatar:""},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("name",a.state.name),t.append("description",a.state.description),t.append("price",100*a.state.price),t.append("avatar",a.state.avatar),a.props.addItem(t),a.setState({name:"",description:"",price:"",avatar:""})},a.getPhoto=function(e){e.preventDefault(),a.setState({avatar:e.target.files[0]})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"order-form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleText"},"Name"),r.a.createElement(x.a,{value:this.state.name,onChange:this.handleChange.bind(this),type:"text",name:"name",id:"exampleText",placeholder:"Enter Name"})),r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleText"},"Description"),r.a.createElement(x.a,{value:this.state.description,onChange:this.handleChange.bind(this),type:"tel",name:"description",id:"exampleText",placeholder:"Add description"})),r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleText"},"Price"),r.a.createElement(x.a,{value:this.state.price,onChange:this.handleChange.bind(this),type:"number",name:"price",id:"exampleText",placeholder:"Price"})),r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleText"},"Add Image"),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.getPhoto.bind(this),type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg"})),r.a.createElement(A.a,null,"Submit"))}}]),t}(n.Component),M=Object(y.b)(function(e){return{}},{addItem:function(e){return function(t){return L.a.post("/api/items",e).then(function(e){return t({type:"ADD_ITEM",payload:e.data})})}}})(D),G="openOrders",P="items",U=function(e,t){return{type:"CHANGE_ACTIVE_TAB",payload:{fromTab:e,ToTab:t}}},W=a(103),R=a(106),F=a(21),B=a(12),H=a(24),V=a(99),X=a(100),J=a(101),z=a(102),K=a(48),Q=function(){return{type:"LISTS_LOADING"}},Y=function(e,t){return function(a){return L.a.put("/api/lists/".concat(e,"/").concat(t)).then(function(t){a({type:"UPDATE_LIST",payload:{items:t.data,id:e}})})}},$=function(e){return{type:"UPDATE_NEW_LIST",payload:e}},q=a(49),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,name:"",description:""},a.toggle=function(){a.setState({open:!a.state.open})},a.addToList=function(){if(a.props.tab.openOrders&&a.props.addToList(a.props.list.selectedList,a.props.selfItem._id),a.props.tab.newOrder){var e=[];e=a.props.list.newList.items.map(function(e){return e.id}).indexOf(a.props.selfItem._id)>-1?a.props.list.newList.items.map(function(e){return e.id===a.props.selfItem._id&&e.count++,e}):[].concat(Object(H.a)(a.props.list.newList.items),[{id:a.props.selfItem._id,count:1}]),a.props.updateNewList(Object(B.a)({},a.props.list.newList,{items:e}))}},a.onChangeInput=a.onChangeInput.bind(Object(h.a)(Object(h.a)(a))),a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onChangeInput",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.selfItem;return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(K.a,{style:{color:"#ffffff",backgroundColor:"#8b918b",padding:"5px"}},r.a.createElement(X.a,null,r.a.createElement("h6",null,e.name.toUpperCase()))),r.a.createElement(J.a,{top:!0,style:{width:"100%"},className:"p-1",src:"/img/".concat(e.imgPath),alt:"Card image cap"}),r.a.createElement(z.a,{className:"p-1"},r.a.createElement(q.a,{className:"p-1 mb-1"},(e.price/100).toFixed(2)+" LKR"),r.a.createElement(A.a,{className:"add-btn",color:"success",onClick:this.addToList.bind(this)},r.a.createElement("i",{className:"fa fa-plus"})))))}}]),t}(n.Component),ee=Object(y.b)(function(e){return{list:e.list,tab:e.tab}},{addToList:Y,updateNewList:$})(Z),te=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.item,t=e.items;return e.loading?r.a.createElement(b.a,null,r.a.createElement(R.a,{style:{width:"3rem",height:"3rem"}})):t.length>0?r.a.createElement(W.a,null,r.a.createElement(d.a,{className:"item-grid-wrapper"},t.map(function(e){return r.a.createElement(b.a,{className:"limited-padding",key:e._id,sm:"12",md:"6",lg:"3"},r.a.createElement(F.TransitionGroup,{className:"shopping-list"},r.a.createElement(F.CSSTransition,{key:e._id,timeout:500,classNames:"fade"},r.a.createElement(ee,{selfItem:e}))))}))):r.a.createElement(b.a,null,r.a.createElement("h4",null,"No items to display"))}}]),t}(n.Component),ae=Object(y.b)(function(e){return{item:e.item}},{})(te),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={activeTab:P},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"toggle",value:function(e){this.state.activeTab!==e&&(this.props.changeActiveTab(this.state.activeTab,e),this.setState({activeTab:e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:{paddingLeft:"0",paddingRight:"0"},className:"custom-grid"},r.a.createElement(f.a,{tabs:!0},r.a.createElement(E.a,null,r.a.createElement(g.a,{className:k()({active:this.state.activeTab===P},"nav-link"),onClick:function(){e.toggle(P)}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Items")))),r.a.createElement(E.a,null,r.a.createElement(g.a,{className:k()({active:"newItem"===this.state.activeTab},"nav-link"),onClick:function(){e.toggle("newItem")}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Item Management"))))),r.a.createElement(O.a,{activeTab:this.state.activeTab},r.a.createElement(v.a,{tabId:P},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(ae,null)))),r.a.createElement(v.a,{tabId:"newItem"},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(M,null))))))}}]),t}(n.Component),re=Object(y.b)(function(e){return{}},{getItems:C,deleteItem:function(e){return function(t){return L.a.delete("/api/items/".concat(e)).then(function(a){return t({type:"DELETE_ITEM",payload:e})})}},changeActiveTab:U})(ne),le=a(112),ce=a(113),ie=a(114),oe=a(115),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(le.a,{dark:!0,expand:"sm",className:"mb-5 nav-bar custom-nav"},r.a.createElement(ce.a,{href:"/"},r.a.createElement("img",{alt:"Logo",src:"/img/logo2.png",width:"100"}),r.a.createElement("h1",null,"Simple POS")),r.a.createElement(ie.a,{onClick:this.toggle}),r.a.createElement(oe.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(f.a,{className:"ml-auto",navbar:!0},r.a.createElement(E.a,null,this.props.auth.loggedIn?r.a.createElement(g.a,{href:"/logout"},"Logout"):""))))}}]),t}(n.Component),ue=Object(y.b)(function(e){return{auth:e.auth}},{})(se),me=a(27),de=Object(me.a)({}),pe=function(e){e?L.a.defaults.headers.common.Authorization=e:delete L.a.defaults.headers.common.Authorization},he=function(e){return function(t){return pe(e),L.a.get("/api/users/current").then(function(a){if(200===a.status){localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(a.data)),de.push("/dashboard");var n=200===a.status;t({type:"LOGGED_IN",payload:{token:e,user:a.data,loggedIn:n}})}}).catch()}},be=a(120),fe=a(116),Ee=a(117),ge=a(118),Oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleModal=function(){a.props.toggle()},a.handleConfirmation=function(){a.props.onConfirm(),a.toggleModal()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(be.a,{isOpen:this.props.isOpen,toggle:this.toggleModal.bind(this)},r.a.createElement(fe.a,{toggle:this.toggleModal.bind(this)},this.props.modalHeader),r.a.createElement(Ee.a,null,this.props.modalBodyText),r.a.createElement(ge.a,null,r.a.createElement(A.a,{color:this.props.cancelColor,onClick:this.toggleModal.bind(this)},this.props.modalCancelLabel),r.a.createElement(A.a,{color:this.props.confirmColor,onClick:this.handleConfirmation.bind(this)},this.props.modalConfirmationLabel)," ")))}}]),t}(r.a.Component),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleModal=function(){a.props.toggle()},a.addItemToList=function(e,t){a.props.addToList(e,t)},a.removeItemFromList=function(e,t){a.props.removeFromList(e,t)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=0;return r.a.createElement("div",null,r.a.createElement(be.a,{centered:!0,fade:!1,isOpen:this.props.isOpen,toggle:this.toggleModal.bind(this)},r.a.createElement(fe.a,{toggle:this.toggleModal.bind(this)},this.props.modalHeader),r.a.createElement(Ee.a,null,r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",{className:"text-right"},"Count"),r.a.createElement("th",{className:"text-right"},"Price"),r.a.createElement("th",{className:"text-right"},"Add/Remove")),this.props.items.map(function(a){return t+=a.price*a.count/100,r.a.createElement("tr",{key:a._id},r.a.createElement("td",null,a.name.charAt(0).toUpperCase()+a.name.slice(1)),r.a.createElement("td",{className:"text-right"},a.count),r.a.createElement("td",{className:"text-right"},(a.price*a.count/100).toFixed()),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{type:"button",value:"plus",onClick:e.addItemToList.bind(e,e.props.id,a.id)},r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("button",{type:"button",value:"minus",onClick:e.removeItemFromList.bind(e,e.props.id,a.id)},r.a.createElement("i",{className:"fa fa-minus"}))))}),r.a.createElement("tr",null,r.a.createElement("td",{colspan:"4",className:"text-right"},r.a.createElement("b",null,"Total :",t.toString())))))),r.a.createElement(ge.a,null,r.a.createElement(A.a,{color:this.props.cancelColor,onClick:this.toggleModal.bind(this)},this.props.modalCancelLabel))))}}]),t}(r.a.Component),ye=Object(y.b)(function(e){return{}},{addToList:Y,removeFromList:function(e,t){return function(a){return L.a.delete("/api/lists/".concat(e,"/").concat(t)).then(function(t){a({type:"UPDATE_LIST",payload:{items:t.data,id:e}})})}}})(ve),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmationModal:!1,orderListModal:!1,checkoutConformationModal:!1},a.toggle=function(){a.setState(function(e){return{confirmationModal:!e.confirmationModal}})},a.toggleCheckout=function(){a.setState(function(e){return{checkoutConformationModal:!e.checkoutConformationModal}})},a.toggleOrderModal=function(){a.setState(function(e){return{orderListModal:!e.orderListModal}})},a.onDeleteClick=function(){console.log("deleting"),a.props.removeList(a.props.id)},a.onCheckoutClick=function(){var e=a.props.list.lists.filter(function(e){return e._id===a.props.id})[0];a.props.closeList(Object(B.a)({},e,{status:1}))},a.setActiveList=function(e){a.props.setActiveList(e)},a.openOrder=function(){a.toggleOrderModal()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list.lists,a=this.props.id,n=this.props.name,l=t.filter(function(e){return e._id===a})[0].items.map(function(t){var a=e.props.item.items.filter(function(e){return e._id===t.id})[0];return!!a&&Object(B.a)({},t,{price:a.price,name:a.name})}).filter(function(e){return!1!==e}),c=0;return l.length>0&&(c=l.map(function(e){return e.price*e.count/100}).reduce(function(e,t){return e+t},0).toFixed(2)),r.a.createElement(b.a,{className:"limited-padding",sm:"4"},r.a.createElement("div",{onClick:this.setActiveList.bind(this,a),className:k()({active_list:this.props.activeList===a},"card")},r.a.createElement("div",{className:"card-body-wrapper"},r.a.createElement(ye,{id:a,isOpen:this.state.orderListModal,toggle:this.toggleOrderModal.bind(this),modalBodyText:"Opened Order",modalHeader:n,modalConfirmationLabel:"Delete",modalCancelLabel:"Close",cancelColor:"secondary",confirmColor:"danger",items:l}),r.a.createElement("div",{className:".card-header:first-child",style:{color:"#ffffff",backgroundColor:"#8b918b",padding:"5px"}},r.a.createElement("h5",null,n)),r.a.createElement("table",{className:"m-1 border"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"},className:"text-left"},"Item"),r.a.createElement("th",{style:{width:"10%"},className:"text-right"},"Qty"),r.a.createElement("th",{style:{width:"40%"},className:"text-right"},"Price")),l.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{style:{width:"50%"},className:"text-left"},e.name.charAt(0).toUpperCase()+e.name.slice(1)),r.a.createElement("td",{style:{width:"10%"},className:"text-right"},e.count),r.a.createElement("td",{style:{width:"40%"},className:"text-right"},(e.price*e.count/100).toFixed(2)))})))),r.a.createElement("p",{className:"price",style:{color:"#000000"}}," ",c," LKR"),r.a.createElement("button",{className:"suc ml-1 mr-1 mt-1 view-btn",onClick:this.openOrder.bind(this)},r.a.createElement("span",{className:"icon-span"},"View")),r.a.createElement("div",{className:"card-button-wrapper m-1"},r.a.createElement("span",{className:"card-button"},r.a.createElement("div",null,r.a.createElement("button",{className:"suc",onClick:this.toggleCheckout.bind(this)},r.a.createElement("span",{role:"img",className:"icon-span","aria-label":"Check"},r.a.createElement("i",{className:"fa fa-check"}))),r.a.createElement(Oe,{onConfirm:this.onCheckoutClick.bind(this),isOpen:this.state.checkoutConformationModal,toggle:this.toggleCheckout.bind(this),modalBodyText:"Are you sure you want to check out this order?",modalHeader:"Confirmation",modalConfirmationLabel:"Checkout",modalCancelLabel:"Cancel",cancelColor:"secondary",confirmColor:"success"}))),r.a.createElement("span",{className:"card-button"},r.a.createElement("div",null,r.a.createElement("button",{className:"dan",onClick:this.toggle.bind(this)},r.a.createElement("span",{className:"icon-span"},r.a.createElement("i",{className:"fa fa-times"}))),r.a.createElement(Oe,{onConfirm:this.onDeleteClick.bind(this),isOpen:this.state.confirmationModal,toggle:this.toggle.bind(this),modalBodyText:"You are about to delete an Order List. Are you sure you want to delete?",modalHeader:"Confirmation",modalConfirmationLabel:"Delete",modalCancelLabel:"Cancel",cancelColor:"secondary",confirmColor:"danger"}))))))}}]),t}(n.Component),Le=Object(y.b)(function(e){return{item:e.item,list:e.list}},{getItems:C,removeList:function(e){return function(t){return L.a.delete("/api/lists/".concat(e)).then(function(e){t({type:"DELETE_LIST",payload:e.data._id})})}},closeList:function(e){return function(t){return L.a.put("/api/lists",e).then(function(e){t({type:"DELETE_LIST",payload:e.data._id}),t({type:"ADD_LIST",payload:e.data})}).catch()}}})(je),Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeList:""},a.setActiveList=function(e){a.setState({activeList:e}),a.props.selectList(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getLists(this.props.auth.user.id)}},{key:"render",value:function(){var e=this,t=this.props.list,a=t.lists,n=t.loading,l=[];return a&&(l=a.filter(function(e){return 1!==e.status&&e.items.length>0})),n?r.a.createElement(b.a,null,r.a.createElement(R.a,{style:{width:"3rem",height:"3rem"}})):a.length>0?r.a.createElement(b.a,null,r.a.createElement(d.a,{className:"order-grid"},l.map(function(t){var a=t._id,n=t.name;return r.a.createElement(Le,{activeList:e.state.activeList,key:a,name:n,id:a,setActiveList:e.setActiveList})}))):r.a.createElement(b.a,null,r.a.createElement("h4",null,"No lists to display"))}}]),t}(n.Component),Te=Object(y.b)(function(e){return{list:e.list,auth:e.auth}},{getLists:function(e){return function(t){return t(Q()),L.a.get("/api/lists/user/".concat(e)).then(function(e){return t({type:"GET_LISTS",payload:e.data})})}},selectList:function(e){return{type:"SELECT_LIST",payload:e}}})(Ce),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.updateNewList(Object(B.a)({},a.props.list.newList,Object(I.a)({},e.target.name,e.target.value)))},a.handleSubmit=function(e){e.preventDefault(),a.props.createList(a.props.list.newList)},a.handleClear=function(e){e.preventDefault(),a.props.clearList(a.props.list.newList)},a.handleIncrement=function(e,t){t.preventDefault();var n=[];a.props.list.newList.items.map(function(e){return e.id}).indexOf(e)>-1&&(n=a.props.list.newList.items.map(function(t){return t.id===e&&t.count++,t})),a.props.updateNewList(Object(B.a)({},a.props.list.newList,{items:n}))},a.handleDecrement=function(e,t){t.preventDefault();var n=a.props.list.newList.items.map(function(e){return e.id}).indexOf(e),r=Object(H.a)(a.props.list.newList.items);n>-1&&(r[n].count>1?r[n].count--:1===r[n].count&&r.splice(n,1)),a.props.updateNewList(Object(B.a)({},a.props.list.newList,{items:r}))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=0,a=0;return r.a.createElement(w.a,{className:"order-form"},r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleText"},"Customer Name"),r.a.createElement(x.a,{value:this.props.list.newList.name,onChange:this.handleChange.bind(this),type:"text",name:"name",id:"exampleText",placeholder:"Enter Name"})),r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"exampleSelect"},"Add Items"),r.a.createElement("div",{className:"custom-table"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",className:"td-left"},"#"),r.a.createElement("th",{scope:"col",className:"td-left"},"Item"),r.a.createElement("th",{scope:"col",className:"td-right"},"Count"),r.a.createElement("th",{scope:"col",className:"td-right"},"Price"),r.a.createElement("th",{scope:"col",className:"td-right"},"+/-"))),r.a.createElement("tbody",null,this.props.list.newList.items.map(function(t){var a=e.props.item.items.filter(function(e){return e._id===t.id})[0];return Object(B.a)({},a,{count:t.count})}).map(function(n){return a+=n.price*n.count/100,r.a.createElement("tr",{key:n._id},r.a.createElement("th",{scope:"row",className:"td-left"},++t),r.a.createElement("td",{className:"td-left"},n.name),r.a.createElement("td",{className:"td-right"},n.count),r.a.createElement("td",{className:"td-right"},n.price*n.count/100),r.a.createElement("td",{className:"td-right"},r.a.createElement("button",{onClick:e.handleIncrement.bind(e,n._id)},"+"),r.a.createElement("button",{onClick:e.handleDecrement.bind(e,n._id)},"-")))}),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},""),r.a.createElement("th",{scope:"col"},""),r.a.createElement("th",{scope:"col"},""),r.a.createElement("th",{scope:"col",className:"td-right"},a?"Total":""),r.a.createElement("th",{scope:"col",className:"td-right"},a||"")))))),r.a.createElement(d.a,null,r.a.createElement(b.a,null),r.a.createElement(b.a,null),r.a.createElement(b.a,null),r.a.createElement(b.a,null,r.a.createElement(A.a,{style:{border:"0",width:"100%"},className:"dan",onClick:this.handleClear.bind(this)},"Clear")),r.a.createElement(b.a,null,r.a.createElement(A.a,{style:{border:"0",width:"100%"},className:"suc",onClick:this.handleSubmit.bind(this)},"Submit"))))}}]),t}(n.Component),ke=Object(y.b)(function(e){return{list:e.list,item:e.item}},{updateNewList:$,createList:function(e){return function(t){return t({type:"CLEAR_NEW_LIST"}),L.a.post("/api/lists",e).then(function(e){return t({type:"ADD_LIST",payload:e.data})})}},clearList:function(){return{type:"CLEAR_NEW_LIST"}}})(Ne),Ie=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(ke,null)}}]),t}(n.Component),we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={activeTab:G},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&(this.props.changeActiveTab(this.state.activeTab,e),this.setState({activeTab:e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:{paddingLeft:"0",paddingRight:"0"},className:"custom-grid"},r.a.createElement(f.a,{tabs:!0},r.a.createElement(E.a,null,r.a.createElement(g.a,{className:k()({active:this.state.activeTab===G},"nav-link"),onClick:function(){e.toggle(G)}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Open Orders")))),r.a.createElement(E.a,null,r.a.createElement(g.a,{className:k()({active:"newOrder"===this.state.activeTab},"nav-link"),onClick:function(){e.toggle("newOrder")}},r.a.createElement("h3",null,r.a.createElement("strong",null,"New Order"))))),r.a.createElement(O.a,{activeTab:this.state.activeTab},r.a.createElement(v.a,{tabId:G},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(Te,null)))),r.a.createElement(v.a,{tabId:"newOrder"},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(Ie,null))))))}}]),t}(r.a.Component),_e=Object(y.b)(function(e){return{item:e.item,list:e.list}},{changeActiveTab:U})(we),Se=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?this.props.authenticateWithToken(e):this.props.history.push("/login")}},{key:"render",value:function(){return this.props.auth.loggedIn?r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement(d.a,{style:{marginRight:"0",marginLeft:"0"}},r.a.createElement(_e,null),r.a.createElement(re,null))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),xe=Object(y.b)(function(e){return{auth:e.auth}},{authenticateWithToken:he,getItems:C})(Se),Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.authenticate(a.state),de.push("/dashboard")},a.handleChange=function(e){a.setState(Object(I.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?this.props.authenticateWithToken(e):this.props.history.push("/login")}},{key:"render",value:function(){return this.props.auth.loggedIn?r.a.createElement(p.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement(ue,null),r.a.createElement(W.a,{className:"App col-6"},r.a.createElement("h2",null,"Sign In"),r.a.createElement(w.a,{className:"form"},r.a.createElement(b.a,null,r.a.createElement(_.a,null,r.a.createElement(S.a,null,"Username"),r.a.createElement(x.a,{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange.bind(this)}))),r.a.createElement(b.a,null,r.a.createElement(_.a,null,r.a.createElement(S.a,{for:"examplePassword"},"Password"),r.a.createElement(x.a,{type:"password",name:"password",id:"examplePassword",placeholder:"********",onChange:this.handleChange.bind(this)}))),r.a.createElement(A.a,{onClick:this.handleSubmit.bind(this)},"Submit"))))}}]),t}(n.Component),De=Object(y.b)(function(e){return{auth:e.auth}},{authenticate:function(e){return function(t){return L.a.post("/api/users/authenticate",e).then(function(e){pe(e.data.token),t(he(e.data.token))}).catch()}},authenticateWithToken:he})(Ae),Me=a(122),Ge=a(119),Pe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component),Ue=Object(y.b)(function(e){return{auth:e.auth}},{logout:function(){return localStorage.removeItem("token"),localStorage.removeItem("user"),pe(),{type:"LOGGED_OUT"}}})(Pe),We=(a(89),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Me.a,{history:de},r.a.createElement("div",null,r.a.createElement(Ge.a,{exact:!0,path:"/",component:xe}),r.a.createElement(Ge.a,{path:"/login",component:De}),r.a.createElement(Ge.a,{path:"/dashboard",component:xe}),r.a.createElement(Ge.a,{path:"/logout",component:Ue})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=a(25),Fe=a(50),Be={items:[],loading:!1},He={loggedIn:!1,user:{},loading:!1,token:""},Ve={lists:[],loading:!1,selectedList:null,newList:{name:"",status:0,items:[]}},Xe={openOrders:!0,newOrder:!1,items:!0,newItem:!1},Je=Object(Re.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(B.a)({},e,{items:t.payload,loading:!1});case"DELETE_ITEM":return Object(B.a)({},e,{items:e.items.filter(function(e){return e._id!==t.payload})});case"ADD_ITEM":return Object(B.a)({},e,{items:[].concat(Object(H.a)(e.items),[t.payload])});case"ITEMS_LOADING":return Object(B.a)({},e,{loading:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return Object(B.a)({},e,{token:t.payload.token,user:t.payload.user,loggedIn:t.payload.loggedIn});case"LOGGED_OUT":return Object(B.a)({},e,{token:"",user:{},loggedIn:!1,loading:!1});case"AUTH_LOADING":return Object(B.a)({},e,{loading:!0});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_LIST":return Object(B.a)({},e,{newList:t.payload});case"GET_LISTS":return Object(B.a)({},e,{lists:t.payload,loading:!1});case"DELETE_LIST":return Object(B.a)({},e,{lists:e.lists.filter(function(e){return e._id!==t.payload})});case"ADD_LIST":return Object(B.a)({},e,{lists:[].concat(Object(H.a)(e.lists),[t.payload])});case"LISTS_LOADING":return Object(B.a)({},e,{loading:!0});case"SELECT_LIST":return Object(B.a)({},e,{selectedList:t.payload});case"UPDATE_LIST":return Object(B.a)({},e,{lists:e.lists.map(function(e){return e._id===t.payload.id?Object(B.a)({},e,{items:t.payload.items}):e})});case"CLEAR_NEW_LIST":return Object(B.a)({},e,{newList:{name:"",status:0,items:[]}});default:return e}},tab:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_ACTIVE_TAB":return Object(B.a)({},t,(e={},Object(I.a)(e,a.payload.fromTab,!1),Object(I.a)(e,a.payload.ToTab,!0),e));default:return t}}}),ze=[Fe.a],Ke=Object(Re.e)(Je,{},Object(Re.d)(Re.a.apply(void 0,ze),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(90);c.a.render(r.a.createElement(y.a,{store:Ke},r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.46ecf8ee.chunk.js.map