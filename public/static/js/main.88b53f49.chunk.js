(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,a){e.exports=a(91)},57:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),i=a(7),o=a(8),s=a(10),u=a(9),m=a(11),d=(a(56),a(57),a(109)),p=a(120),h=a(16),b=a(103),E=a(104),f=a(105),g=a(106),O=a(107),v=a(108),y=a(110),j=a(21),C=a(17),L=a(12),T=a(26),k=a(94),I=a(95),N=a(96),w=a(97),_=a(98),S=a(13),A=a(48),x=a(15),D=a.n(x),M=function(){return{type:"LISTS_LOADING"}},G=function(e,t){return function(a){return D.a.put("/api/lists/".concat(e,"/").concat(t)).then(function(t){a({type:"UPDATE_LIST",payload:{items:t.data,id:e}})})}},P=function(e){return{type:"UPDATE_NEW_LIST",payload:e}},U=a(49),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,name:"",description:""},a.toggle=function(){a.setState({open:!a.state.open})},a.addToList=function(){if(a.props.tab.openOrders&&a.props.addToList(a.props.list.selectedList,a.props.selfItem._id),a.props.tab.newOrder){var e=[];e=a.props.list.newList.items.map(function(e){return e.id}).indexOf(a.props.selfItem._id)>-1?a.props.list.newList.items.map(function(e){return e.id===a.props.selfItem._id&&e.count++,e}):[].concat(Object(T.a)(a.props.list.newList.items),[{id:a.props.selfItem._id,count:1}]),a.props.updateNewList(Object(L.a)({},a.props.list.newList,{items:e}))}},a.onChangeInput=a.onChangeInput.bind(Object(h.a)(Object(h.a)(a))),a.toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onChangeInput",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.props.selfItem;return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(A.a,{style:{color:"#ffffff",backgroundColor:"#8b918b",padding:"5px"}},r.a.createElement(I.a,null,r.a.createElement("h6",null,e.name.toUpperCase()))),r.a.createElement(N.a,{top:!0,style:{width:"100%"},className:"p-1",src:"/img/".concat(e.imgPath),alt:"Card image cap"}),r.a.createElement(w.a,{className:"p-1"},r.a.createElement(U.a,{className:"p-1 mb-1"},(e.price/100).toFixed(2)+" LKR"),r.a.createElement(_.a,{className:"add-btn",color:"success",onClick:this.addToList.bind(this)},r.a.createElement("i",{className:"fa fa-plus"})))))}}]),t}(n.Component),R=Object(S.b)(function(e){return{list:e.list,tab:e.tab}},{addToList:G,updateNewList:P})(W),F=function(){return function(e){return e(B()),D.a.get("/api/items").then(function(t){return e({type:"GET_ITEMS",payload:t.data})})}},B=function(){return{type:"ITEMS_LOADING"}},H=a(4),V=a.n(H),X=a(99),J=a(100),z=a(101),K=a(102),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",price:"",avatar:""},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("name",a.state.name),t.append("description",a.state.description),t.append("price",100*a.state.price),t.append("avatar",a.state.avatar),a.props.addItem(t),a.setState({name:"",description:"",price:"",avatar:""})},a.getPhoto=function(e){e.preventDefault(),a.setState({avatar:e.target.files[0]})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(X.a,{className:"order-form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleText"},"Name"),r.a.createElement(K.a,{value:this.state.name,onChange:this.handleChange.bind(this),type:"text",name:"name",id:"exampleText",placeholder:"Enter Name"})),r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleText"},"Description"),r.a.createElement(K.a,{value:this.state.description,onChange:this.handleChange.bind(this),type:"tel",name:"description",id:"exampleText",placeholder:"Add description"})),r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleText"},"Price"),r.a.createElement(K.a,{value:this.state.price,onChange:this.handleChange.bind(this),type:"number",name:"price",id:"exampleText",placeholder:"Price"})),r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleText"},"Add Image"),r.a.createElement("br",null),r.a.createElement("input",{onChange:this.getPhoto.bind(this),type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg"})),r.a.createElement(_.a,null,"Submit"))}}]),t}(n.Component),Y=Object(S.b)(function(e){return{}},{addItem:function(e){return function(t){return D.a.post("/api/items",e).then(function(e){return t({type:"ADD_ITEM",payload:e.data})})}}})(Q),$="openOrders",q="items",Z=function(e,t){return{type:"CHANGE_ACTIVE_TAB",payload:{fromTab:e,ToTab:t}}},ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={activeTab:q},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"toggle",value:function(e){this.state.activeTab!==e&&(this.props.changeActiveTab(this.state.activeTab,e),this.setState({activeTab:e}))}},{key:"render",value:function(){var e=this,t=this.props.item.items;return t?r.a.createElement(b.a,{style:{paddingLeft:"0",paddingRight:"0"},className:"custom-grid"},r.a.createElement(E.a,{tabs:!0},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:V()({active:this.state.activeTab===q},"nav-link"),onClick:function(){e.toggle(q)}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Items")))),r.a.createElement(f.a,null,r.a.createElement(g.a,{className:V()({active:"newItem"===this.state.activeTab},"nav-link"),onClick:function(){e.toggle("newItem")}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Item Management"))))),r.a.createElement(O.a,{activeTab:this.state.activeTab},r.a.createElement(v.a,{tabId:q},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(y.a,null,r.a.createElement(d.a,{className:"item-grid-wrapper"},t.map(function(e){return r.a.createElement(b.a,{className:"limited-padding",key:e._id,sm:"12",md:"6",lg:"3"},r.a.createElement(j.TransitionGroup,{className:"shopping-list"},r.a.createElement(j.CSSTransition,{key:e._id,timeout:500,classNames:"fade"},r.a.createElement(R,{selfItem:e}))))})))))),r.a.createElement(v.a,{tabId:"newItem"},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(Y,null)))))):r.a.createElement("div",null,"No items to show")}}]),t}(n.Component),te=Object(S.b)(function(e){return{item:e.item}},{getItems:F,deleteItem:function(e){return function(t){return D.a.delete("/api/items/".concat(e)).then(function(a){return t({type:"DELETE_ITEM",payload:e})})}},changeActiveTab:Z})(ee),ae=a(111),ne=a(112),re=a(113),le=a(114),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(ae.a,{dark:!0,expand:"sm",className:"mb-5 nav-bar custom-nav"},r.a.createElement(ne.a,{href:"/"},r.a.createElement("img",{alt:"Logo",src:"/img/logo2.png",width:"100"}),r.a.createElement("h1",null,"Simple POS")),r.a.createElement(re.a,{onClick:this.toggle}),r.a.createElement(le.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(E.a,{className:"ml-auto",navbar:!0},r.a.createElement(f.a,null,this.props.auth.loggedIn?r.a.createElement(g.a,{href:"/logout"},"Logout"):""))))}}]),t}(n.Component),ie=Object(S.b)(function(e){return{auth:e.auth}},{})(ce),oe=a(27),se=Object(oe.a)({}),ue=function(e){e?D.a.defaults.headers.common.Authorization=e:delete D.a.defaults.headers.common.Authorization},me=function(e){return function(t){return ue(e),D.a.get("/api/users/current").then(function(a){if(200===a.status){localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(a.data)),se.push("/dashboard");var n=200===a.status;t({type:"LOGGED_IN",payload:{token:e,user:a.data,loggedIn:n}})}}).catch()}},de=a(119),pe=a(115),he=a(116),be=a(117),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleModal=function(){a.props.toggle()},a.handleConfirmation=function(){a.props.onConfirm(),a.toggleModal()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(de.a,{isOpen:this.props.isOpen,toggle:this.toggleModal.bind(this)},r.a.createElement(pe.a,{toggle:this.toggleModal.bind(this)},this.props.modalHeader),r.a.createElement(he.a,null,this.props.modalBodyText),r.a.createElement(be.a,null,r.a.createElement(_.a,{color:this.props.cancelColor,onClick:this.toggleModal.bind(this)},this.props.modalCancelLabel),r.a.createElement(_.a,{color:this.props.confirmColor,onClick:this.handleConfirmation.bind(this)},this.props.modalConfirmationLabel)," ")))}}]),t}(r.a.Component),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleModal=function(){a.props.toggle()},a.addItemToList=function(e,t){a.props.addToList(e,t)},a.removeItemFromList=function(e,t){a.props.removeFromList(e,t)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=0;return r.a.createElement("div",null,r.a.createElement(de.a,{centered:!0,fade:!1,isOpen:this.props.isOpen,toggle:this.toggleModal.bind(this)},r.a.createElement(pe.a,{toggle:this.toggleModal.bind(this)},this.props.modalHeader),r.a.createElement(he.a,null,r.a.createElement("table",{style:{width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",{className:"text-right"},"Count"),r.a.createElement("th",{className:"text-right"},"Price"),r.a.createElement("th",{className:"text-right"},"Add/Remove")),this.props.items.map(function(a){return t+=a.price*a.count/100,r.a.createElement("tr",{key:a._id},r.a.createElement("td",null,a.name.charAt(0).toUpperCase()+a.name.slice(1)),r.a.createElement("td",{className:"text-right"},a.count),r.a.createElement("td",{className:"text-right"},(a.price*a.count/100).toFixed()),r.a.createElement("td",{className:"text-right"},r.a.createElement("button",{type:"button",value:"plus",onClick:e.addItemToList.bind(e,e.props.id,a.id)},r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("button",{type:"button",value:"minus",onClick:e.removeItemFromList.bind(e,e.props.id,a.id)},r.a.createElement("i",{className:"fa fa-minus"}))))}),r.a.createElement("tr",null,r.a.createElement("td",{colspan:"4",className:"text-right"},r.a.createElement("b",null,"Total :",t.toString())))))),r.a.createElement(be.a,null,r.a.createElement(_.a,{color:this.props.cancelColor,onClick:this.toggleModal.bind(this)},this.props.modalCancelLabel))))}}]),t}(r.a.Component),ge=Object(S.b)(function(e){return{}},{addToList:G,removeFromList:function(e,t){return function(a){return D.a.delete("/api/lists/".concat(e,"/").concat(t)).then(function(t){a({type:"UPDATE_LIST",payload:{items:t.data,id:e}})})}}})(fe),Oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={confirmationModal:!1,orderListModal:!1,checkoutConformationModal:!1},a.toggle=function(){a.setState(function(e){return{confirmationModal:!e.confirmationModal}})},a.toggleCheckout=function(){a.setState(function(e){return{checkoutConformationModal:!e.checkoutConformationModal}})},a.toggleOrderModal=function(){a.setState(function(e){return{orderListModal:!e.orderListModal}})},a.onDeleteClick=function(){console.log("deleting"),a.props.removeList(a.props.id)},a.onCheckoutClick=function(){var e=a.props.list.lists.filter(function(e){return e._id===a.props.id})[0];a.props.closeList(Object(L.a)({},e,{status:1}))},a.setActiveList=function(e){a.props.setActiveList(e)},a.openOrder=function(){a.toggleOrderModal()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list.lists,a=this.props.id,n=this.props.name,l=t.filter(function(e){return e._id===a})[0].items.map(function(t){var a=e.props.item.items.filter(function(e){return e._id===t.id})[0];return!!a&&Object(L.a)({},t,{price:a.price,name:a.name})}).filter(function(e){return!1!==e}),c=0;return l.length>0&&(c=l.map(function(e){return e.price*e.count/100}).reduce(function(e,t){return e+t},0).toFixed(2)),r.a.createElement(b.a,{className:"limited-padding",sm:"4"},r.a.createElement("div",{onClick:this.setActiveList.bind(this,a),className:V()({active_list:this.props.activeList===a},"card")},r.a.createElement("div",{className:"card-body-wrapper"},r.a.createElement(ge,{id:a,isOpen:this.state.orderListModal,toggle:this.toggleOrderModal.bind(this),modalBodyText:"Opened Order",modalHeader:n,modalConfirmationLabel:"Delete",modalCancelLabel:"Close",cancelColor:"secondary",confirmColor:"danger",items:l}),r.a.createElement("div",{className:".card-header:first-child",style:{color:"#ffffff",backgroundColor:"#8b918b",padding:"5px"}},r.a.createElement("h5",null,n)),r.a.createElement("table",{className:"m-1 border"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"},className:"text-left"},"Item"),r.a.createElement("th",{style:{width:"10%"},className:"text-right"},"Qty"),r.a.createElement("th",{style:{width:"40%"},className:"text-right"},"Price")),l.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{style:{width:"50%"},className:"text-left"},e.name.charAt(0).toUpperCase()+e.name.slice(1)),r.a.createElement("td",{style:{width:"10%"},className:"text-right"},e.count),r.a.createElement("td",{style:{width:"40%"},className:"text-right"},(e.price*e.count/100).toFixed(2)))})))),r.a.createElement("p",{className:"price",style:{color:"#000000"}}," ",c," LKR"),r.a.createElement("button",{className:"suc ml-1 mr-1 mt-1 view-btn",onClick:this.openOrder.bind(this)},r.a.createElement("span",{className:"icon-span"},"View")),r.a.createElement("div",{className:"card-button-wrapper m-1"},r.a.createElement("span",{className:"card-button"},r.a.createElement("div",null,r.a.createElement("button",{className:"suc",onClick:this.toggleCheckout.bind(this)},r.a.createElement("span",{role:"img",className:"icon-span","aria-label":"Check"},r.a.createElement("i",{className:"fa fa-check"}))),r.a.createElement(Ee,{onConfirm:this.onCheckoutClick.bind(this),isOpen:this.state.checkoutConformationModal,toggle:this.toggleCheckout.bind(this),modalBodyText:"Are you sure you want to check out this order?",modalHeader:"Confirmation",modalConfirmationLabel:"Checkout",modalCancelLabel:"Cancel",cancelColor:"secondary",confirmColor:"success"}))),r.a.createElement("span",{className:"card-button"},r.a.createElement("div",null,r.a.createElement("button",{className:"dan",onClick:this.toggle.bind(this)},r.a.createElement("span",{className:"icon-span"},r.a.createElement("i",{className:"fa fa-times"}))),r.a.createElement(Ee,{onConfirm:this.onDeleteClick.bind(this),isOpen:this.state.confirmationModal,toggle:this.toggle.bind(this),modalBodyText:"You are about to delete an Order List. Are you sure you want to delete?",modalHeader:"Confirmation",modalConfirmationLabel:"Delete",modalCancelLabel:"Cancel",cancelColor:"secondary",confirmColor:"danger"}))))))}}]),t}(n.Component),ve=Object(S.b)(function(e){return{item:e.item,list:e.list}},{getItems:F,removeList:function(e){return function(t){return D.a.delete("/api/lists/".concat(e)).then(function(e){t({type:"DELETE_LIST",payload:e.data._id})})}},closeList:function(e){return function(t){return D.a.put("/api/lists",e).then(function(e){t({type:"DELETE_LIST",payload:e.data._id}),t({type:"ADD_LIST",payload:e.data})}).catch()}}})(Oe),ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeList:""},a.setActiveList=function(e){a.setState({activeList:e}),a.props.selectList(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getLists(this.props.auth.user.id)}},{key:"render",value:function(){var e=this,t=this.props.list.lists,a=[];return t&&(a=t.filter(function(e){return 1!==e.status&&e.items.length>0})),a.length>0?r.a.createElement(b.a,null,r.a.createElement(d.a,{className:"order-grid"},a.map(function(t){var a=t._id,n=t.name;return r.a.createElement(ve,{activeList:e.state.activeList,key:a,name:n,id:a,setActiveList:e.setActiveList})}))):r.a.createElement("div",null,"No open orders")}}]),t}(n.Component),je=Object(S.b)(function(e){return{list:e.list,auth:e.auth}},{getLists:function(e){return function(t){return t(M()),D.a.get("/api/lists/user/".concat(e)).then(function(e){return t({type:"GET_LISTS",payload:e.data})})}},selectList:function(e){return{type:"SELECT_LIST",payload:e}}})(ye),Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.updateNewList(Object(L.a)({},a.props.list.newList,Object(C.a)({},e.target.name,e.target.value)))},a.handleSubmit=function(e){e.preventDefault(),a.props.createList(a.props.list.newList)},a.handleClear=function(e){e.preventDefault(),a.props.clearList(a.props.list.newList)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=0,a=0;return r.a.createElement(X.a,{className:"order-form"},r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleText"},"Customer Name"),r.a.createElement(K.a,{value:this.props.list.newList.name,onChange:this.handleChange.bind(this),type:"text",name:"name",id:"exampleText",placeholder:"Enter Name"})),r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"exampleSelect"},"Add Items"),r.a.createElement("div",{className:"custom-table"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Item"),r.a.createElement("th",{scope:"col"},"Count"),r.a.createElement("th",{scope:"col"},"Price"))),r.a.createElement("tbody",null,this.props.list.newList.items.map(function(t){var a=e.props.item.items.filter(function(e){return e._id===t.id})[0];return Object(L.a)({},a,{count:t.count})}).map(function(e){return a+=e.price*e.count/100,r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},++t),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.count),r.a.createElement("td",null,e.price*e.count/100))}),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},""),r.a.createElement("th",{scope:"col"},""),r.a.createElement("th",{scope:"col"},a?"Total":""),r.a.createElement("th",{scope:"col"},a||"")))))),r.a.createElement(d.a,null,r.a.createElement(b.a,null),r.a.createElement(b.a,null),r.a.createElement(b.a,null),r.a.createElement(b.a,null,r.a.createElement(_.a,{style:{border:"0",width:"100%"},className:"dan",onClick:this.handleClear.bind(this)},"Clear")),r.a.createElement(b.a,null,r.a.createElement(_.a,{style:{border:"0",width:"100%"},className:"suc",onClick:this.handleSubmit.bind(this)},"Submit"))))}}]),t}(n.Component),Le=Object(S.b)(function(e){return{list:e.list,item:e.item}},{updateNewList:P,createList:function(e){return function(t){return t({type:"CLEAR_NEW_LIST"}),D.a.post("/api/lists",e).then(function(e){return t({type:"ADD_LIST",payload:e.data})})}},clearList:function(){return{type:"CLEAR_NEW_LIST"}}})(Ce),Te=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Le,null)}}]),t}(n.Component),ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={activeTab:$},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&(this.props.changeActiveTab(this.state.activeTab,e),this.setState({activeTab:e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:{paddingLeft:"0",paddingRight:"0"},className:"custom-grid"},r.a.createElement(E.a,{tabs:!0},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:V()({active:this.state.activeTab===$},"nav-link"),onClick:function(){e.toggle($)}},r.a.createElement("h3",null,r.a.createElement("strong",null,"Open Orders")))),r.a.createElement(f.a,null,r.a.createElement(g.a,{className:V()({active:"newOrder"===this.state.activeTab},"nav-link"),onClick:function(){e.toggle("newOrder")}},r.a.createElement("h3",null,r.a.createElement("strong",null,"New Order"))))),r.a.createElement(O.a,{activeTab:this.state.activeTab},r.a.createElement(v.a,{tabId:$},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(je,null)))),r.a.createElement(v.a,{tabId:"newOrder"},r.a.createElement(d.a,null,r.a.createElement(b.a,{sm:"12"},r.a.createElement(Te,null))))))}}]),t}(r.a.Component),Ie=Object(S.b)(function(e){return{item:e.item,list:e.list}},{changeActiveTab:Z})(ke),Ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?this.props.authenticateWithToken(e):this.props.history.push("/login")}},{key:"render",value:function(){return this.props.auth.loggedIn?r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(d.a,{style:{marginRight:"0",marginLeft:"0"}},r.a.createElement(Ie,null),r.a.createElement(te,null))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),we=Object(S.b)(function(e){return{auth:e.auth}},{authenticateWithToken:me,getItems:F})(Ne),_e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.authenticate(a.state),se.push("/dashboard")},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?this.props.authenticateWithToken(e):this.props.history.push("/login")}},{key:"render",value:function(){return this.props.auth.loggedIn?r.a.createElement(p.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(y.a,{className:"App col-6"},r.a.createElement("h2",null,"Sign In"),r.a.createElement(X.a,{className:"form"},r.a.createElement(b.a,null,r.a.createElement(J.a,null,r.a.createElement(z.a,null,"Username"),r.a.createElement(K.a,{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange.bind(this)}))),r.a.createElement(b.a,null,r.a.createElement(J.a,null,r.a.createElement(z.a,{for:"examplePassword"},"Password"),r.a.createElement(K.a,{type:"password",name:"password",id:"examplePassword",placeholder:"********",onChange:this.handleChange.bind(this)}))),r.a.createElement(_.a,{onClick:this.handleSubmit.bind(this)},"Submit"))))}}]),t}(n.Component),Se=Object(S.b)(function(e){return{auth:e.auth}},{authenticate:function(e){return function(t){return D.a.post("/api/users/authenticate",e).then(function(e){ue(e.data.token),t(me(e.data.token))}).catch()}},authenticateWithToken:me})(_e),Ae=a(121),xe=a(118),De=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component),Me=Object(S.b)(function(e){return{auth:e.auth}},{logout:function(){return localStorage.removeItem("token"),localStorage.removeItem("user"),ue(),{type:"LOGGED_OUT"}}})(De),Ge=(a(89),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(Ae.a,{history:se},r.a.createElement("div",null,r.a.createElement(xe.a,{exact:!0,path:"/",component:we}),r.a.createElement(xe.a,{path:"/login",component:Se}),r.a.createElement(xe.a,{path:"/dashboard",component:we}),r.a.createElement(xe.a,{path:"/logout",component:Me})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=a(24),Ue=a(50),We={items:[],loading:!1},Re={loggedIn:!1,user:{},loading:!1,token:""},Fe={lists:[],loading:!1,selectedList:null,newList:{name:"",status:0,items:[]}},Be={openOrders:!0,newOrder:!1,items:!0,newItem:!1},He=Object(Pe.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(L.a)({},e,{items:t.payload,loading:!1});case"DELETE_ITEM":return Object(L.a)({},e,{items:e.items.filter(function(e){return e._id!==t.payload})});case"ADD_ITEM":return Object(L.a)({},e,{items:[].concat(Object(T.a)(e.items),[t.payload])});case"ITEMS_LOADING":return Object(L.a)({},e,{loading:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return Object(L.a)({},e,{token:t.payload.token,user:t.payload.user,loggedIn:t.payload.loggedIn});case"LOGGED_OUT":return Object(L.a)({},e,{token:"",user:{},loggedIn:!1,loading:!1});case"AUTH_LOADING":return Object(L.a)({},e,{loading:!0});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_LIST":return Object(L.a)({},e,{newList:t.payload});case"GET_LISTS":return Object(L.a)({},e,{lists:t.payload,loading:!1});case"DELETE_LIST":return Object(L.a)({},e,{lists:e.lists.filter(function(e){return e._id!==t.payload})});case"ADD_LIST":return Object(L.a)({},e,{lists:[].concat(Object(T.a)(e.lists),[t.payload])});case"LISTS_LOADING":return Object(L.a)({},e,{loading:!0});case"SELECT_LIST":return Object(L.a)({},e,{selectedList:t.payload});case"UPDATE_LIST":return Object(L.a)({},e,{lists:e.lists.map(function(e){return e._id===t.payload.id?Object(L.a)({},e,{items:t.payload.items}):e})});case"CLEAR_NEW_LIST":return Object(L.a)({},e,{newList:{name:"",status:0,items:[]}});default:return e}},tab:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_ACTIVE_TAB":return Object(L.a)({},t,(e={},Object(C.a)(e,a.payload.fromTab,!1),Object(C.a)(e,a.payload.ToTab,!0),e));default:return t}}}),Ve=[Ue.a],Xe=Object(Pe.e)(He,{},Object(Pe.d)(Pe.a.apply(void 0,Ve),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(90);c.a.render(r.a.createElement(S.a,{store:Xe},r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.88b53f49.chunk.js.map